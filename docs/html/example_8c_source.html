<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Biomedical Image Analysis Library: bial/zlib/test/example.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bial92x92.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Biomedical Image Analysis Library
   </div>
   <div id="projectbrief">The Biomedical Image Analysis Library is a poweful tool for developers, physicians, researchers, engineers, and so on.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('example_8c_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">example.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="example_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* example.c -- usage example of the zlib compression library</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 1995-2006, 2011 Jean-loup Gailly.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * For conditions of distribution and use, see copyright notice in zlib.h</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">/* @(#) $Id$ */</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="zlib_8h.html">zlib.h</a>&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#ifdef STDC</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#  include &lt;string.h&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#  include &lt;stdlib.h&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#if defined(VMS) || defined(RISCOS)</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#  define TESTFILE &quot;foo-gz&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="example_8c.html#a4258e41b25299240dbf3e33b0b61913d">   19</a></span>&#160;<span class="preprocessor">#  define TESTFILE &quot;foo.gz&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">   22</a></span>&#160;<span class="preprocessor">#define CHECK_ERR(err, msg) { \</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">    if (err != Z_OK) { \</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">        fprintf(stderr, &quot;%s error: %d\n&quot;, msg, err); \</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">        exit(1); \</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">    } \</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">}</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="example_8c.html#af9e6748745abd838374d48ef66be1f0f">   29</a></span>&#160;<a class="code" href="zconf_8h.html#a8dc97a57ad456f3016c710ee6507dbee">z_const</a> <span class="keywordtype">char</span> <a class="code" href="example_8c.html#af9e6748745abd838374d48ef66be1f0f">hello</a>[] = <span class="stringliteral">&quot;hello, hello!&quot;</span>;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/* &quot;hello world&quot; would be more standard, but the repeated &quot;hello&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> * stresses the compression code better, sorry...</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="example_8c.html#a050a02a0902aa81571331f8b3b876deb">   34</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="example_8c.html#a050a02a0902aa81571331f8b3b876deb">dictionary</a>[] = <span class="stringliteral">&quot;hello&quot;</span>;</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="example_8c.html#a2f82b9ba7bbe7732f3936b464d5104c5">   35</a></span>&#160;<a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> <a class="code" href="example_8c.html#a2f82b9ba7bbe7732f3936b464d5104c5">dictId</a>; <span class="comment">/* Adler32 value of the dictionary */</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#aea19040b80c5af57adfe2e60052fb323">test_deflate</a>       <a class="code" href="example_8c.html#a72d78744e1b557706d7af470f7e8794d">OF</a>((<a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *compr, <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> comprLen));</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#a330e4cd467de7d4d4cbb0ef8c91ad4fb">test_inflate</a>       <a class="code" href="example_8c.html#a72d78744e1b557706d7af470f7e8794d">OF</a>((<a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *compr, <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> comprLen,</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                            <a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *uncompr, <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> uncomprLen));</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#a4610260d3c6ef866bf756145cd353e4a">test_large_deflate</a> <a class="code" href="example_8c.html#a72d78744e1b557706d7af470f7e8794d">OF</a>((<a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *compr, <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> comprLen,</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                            <a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *uncompr, <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> uncomprLen));</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#a448bf3f8ad0104b982392f3ab124cedf">test_large_inflate</a> <a class="code" href="example_8c.html#a72d78744e1b557706d7af470f7e8794d">OF</a>((<a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *compr, <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> comprLen,</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                            <a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *uncompr, <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> uncomprLen));</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#a8c330772572130fbf31acbf468f5af72">test_flush</a>         <a class="code" href="example_8c.html#a72d78744e1b557706d7af470f7e8794d">OF</a>((<a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *compr, <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> *comprLen));</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#af7ba7234d86c85a9efef84bd2ccab14a">test_sync</a>          <a class="code" href="example_8c.html#a72d78744e1b557706d7af470f7e8794d">OF</a>((<a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *compr, <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> comprLen,</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                            <a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *uncompr, <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> uncomprLen));</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#ad29d7651ff1ea77f6e0cf678b20d484b">test_dict_deflate</a>  <a class="code" href="example_8c.html#a72d78744e1b557706d7af470f7e8794d">OF</a>((<a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *compr, <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> comprLen));</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#a7dd13dbc6c74ed924c3fee85e734494f">test_dict_inflate</a>  <a class="code" href="example_8c.html#a72d78744e1b557706d7af470f7e8794d">OF</a>((<a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *compr, <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> comprLen,</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                            <a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *uncompr, <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> uncomprLen));</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keywordtype">int</span>  <a class="code" href="example_8c.html#afced8478b91af5c169926dfa4426333d">main</a>               <a class="code" href="example_8c.html#a72d78744e1b557706d7af470f7e8794d">OF</a>((<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]));</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#ifdef Z_SOLO</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keywordtype">void</span> *myalloc <a class="code" href="example_8c.html#a72d78744e1b557706d7af470f7e8794d">OF</a>((<span class="keywordtype">void</span> *, <span class="keywordtype">unsigned</span>, <span class="keywordtype">unsigned</span>));</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keywordtype">void</span> myfree <a class="code" href="example_8c.html#a72d78744e1b557706d7af470f7e8794d">OF</a>((<span class="keywordtype">void</span> *, <span class="keywordtype">void</span> *));</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keywordtype">void</span> *myalloc(q, n, m)</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    void *q;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordtype">unsigned</span> n, m;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    q = <a class="code" href="zlib_8h.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="zutil_8c.html#aebd5c667302d7b972ed849f359982306">calloc</a>(n, m);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;}</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keywordtype">void</span> myfree(<span class="keywordtype">void</span> *q, <span class="keywordtype">void</span> *p)</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;{</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    q = <a class="code" href="zlib_8h.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="gzguts_8h.html#aafde19f7d36ca163a143579c1b125b6d">free</a>(p);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">static</span> <a class="code" href="zlib_8h.html#a70a8c0d82946d5d5b3eaa299e732e6c5">alloc_func</a> <a class="code" href="example_8c.html#a0b2f68e949d83a93be0e4d0b88148c80">zalloc</a> = myalloc;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">static</span> <a class="code" href="zlib_8h.html#a3f5c24bc1470b5d545fad3d50c1c5b50">free_func</a> <a class="code" href="example_8c.html#a7587bb1e332fc8f57ef74071eeec8070">zfree</a> = myfree;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* !Z_SOLO */</span><span class="preprocessor"></span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="example_8c.html#a0b2f68e949d83a93be0e4d0b88148c80">   77</a></span>&#160;<span class="keyword">static</span> <a class="code" href="zlib_8h.html#a70a8c0d82946d5d5b3eaa299e732e6c5">alloc_func</a> zalloc = (<a class="code" href="zlib_8h.html#a70a8c0d82946d5d5b3eaa299e732e6c5">alloc_func</a>)0;</div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="example_8c.html#a7587bb1e332fc8f57ef74071eeec8070">   78</a></span>&#160;<span class="keyword">static</span> <a class="code" href="zlib_8h.html#a3f5c24bc1470b5d545fad3d50c1c5b50">free_func</a> zfree = (<a class="code" href="zlib_8h.html#a3f5c24bc1470b5d545fad3d50c1c5b50">free_func</a>)0;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#a6a9558a2f570739d5bb2a1985d4f9a5d">test_compress</a>      <a class="code" href="example_8c.html#a72d78744e1b557706d7af470f7e8794d">OF</a>((<a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *compr, <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> comprLen,</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                            <a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *uncompr, <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> uncomprLen));</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#adb492214325c044e5ee956b124efe2d8">test_gzio</a>          <a class="code" href="example_8c.html#a72d78744e1b557706d7af470f7e8794d">OF</a>((<span class="keyword">const</span> <span class="keywordtype">char</span> *fname,</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                            <a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *uncompr, <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> uncomprLen));</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">/* ===========================================================================</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment"> * Test compress() and uncompress()</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="example_8c.html#a6a9558a2f570739d5bb2a1985d4f9a5d">   88</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#a6a9558a2f570739d5bb2a1985d4f9a5d">test_compress</a>(compr, comprLen, uncompr, uncomprLen)</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *compr, *uncompr;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> comprLen, uncomprLen;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;{</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordtype">int</span> err;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> len = (<a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a>)strlen(<a class="code" href="example_8c.html#af9e6748745abd838374d48ef66be1f0f">hello</a>)+1;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    err = <a class="code" href="compress_8c.html#aa0962f70f4c727dc553d573d9fbb6364">compress</a>(compr, &amp;comprLen, (<span class="keyword">const</span> <a class="code" href="zconf_8h.html#ac5613fe8160cbbf89d3e470574b755fb">Bytef</a>*)<a class="code" href="example_8c.html#af9e6748745abd838374d48ef66be1f0f">hello</a>, len);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;compress&quot;</span>);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    strcpy((<span class="keywordtype">char</span>*)uncompr, <span class="stringliteral">&quot;garbage&quot;</span>);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    err = <a class="code" href="uncompr_8c.html#aaa6e1df03840ed10525d879a7d8e0b6c">uncompress</a>(uncompr, &amp;uncomprLen, compr, comprLen);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;uncompress&quot;</span>);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">if</span> (strcmp((<span class="keywordtype">char</span>*)uncompr, <a class="code" href="example_8c.html#af9e6748745abd838374d48ef66be1f0f">hello</a>)) {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;bad uncompress\n&quot;</span>);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        exit(1);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        printf(<span class="stringliteral">&quot;uncompress(): %s\n&quot;</span>, (<span class="keywordtype">char</span> *)uncompr);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    }</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">/* ===========================================================================</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment"> * Test read/write of .gz files</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="example_8c.html#adb492214325c044e5ee956b124efe2d8">  114</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#adb492214325c044e5ee956b124efe2d8">test_gzio</a>(fname, uncompr, uncomprLen)</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <span class="keywordtype">char</span> *fname; <span class="comment">/* compressed file name */</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *uncompr;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> uncomprLen;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">#ifdef NO_GZCOMPRESS</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;NO_GZCOMPRESS -- gz* functions cannot compress\n&quot;</span>);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordtype">int</span> err;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordtype">int</span> len = (int)strlen(<a class="code" href="example_8c.html#af9e6748745abd838374d48ef66be1f0f">hello</a>)+1;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    gzFile <a class="code" href="gzappend_8c.html#structfile">file</a>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="zconf_8h.html#a8cf4661a88ec12823d7cbdd3fa629eb0">z_off_t</a> pos;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    file = <a class="code" href="gzlib_8c.html#a54142010ac2da15a90a844f410ab8009">gzopen</a>(fname, <span class="stringliteral">&quot;wb&quot;</span>);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">if</span> (file == NULL) {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;gzopen error\n&quot;</span>);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        exit(1);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="gzwrite_8c.html#af7b867ccccdcd23e890f251b7401460b">gzputc</a>(file, <span class="charliteral">&#39;h&#39;</span>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gzwrite_8c.html#a16608fd5121867bc7c92e0f819d6c7ac">gzputs</a>(file, <span class="stringliteral">&quot;ello&quot;</span>) != 4) {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;gzputs err: %s\n&quot;</span>, <a class="code" href="gzlib_8c.html#ab14de224315c916f31b251fc50a7f76b">gzerror</a>(file, &amp;err));</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        exit(1);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gzwrite_8c.html#ac7a0f0035b65d092d4f3824782f08c85">gzprintf</a>(file, <span class="stringliteral">&quot;, %s!&quot;</span>, <span class="stringliteral">&quot;hello&quot;</span>) != 8) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;gzprintf err: %s\n&quot;</span>, <a class="code" href="gzlib_8c.html#ab14de224315c916f31b251fc50a7f76b">gzerror</a>(file, &amp;err));</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        exit(1);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="gzlib_8c.html#a9b421973bdd9fa227020145d10c6d78d">gzseek</a>(file, 1L, <a class="code" href="zip_8c.html#a4c8d0b76b470ba65a43ca46a88320f39">SEEK_CUR</a>); <span class="comment">/* add one zero byte */</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="gzclose_8c.html#af9106d601241664b76b24fba210bdc2d">gzclose</a>(file);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    file = <a class="code" href="gzlib_8c.html#a54142010ac2da15a90a844f410ab8009">gzopen</a>(fname, <span class="stringliteral">&quot;rb&quot;</span>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">if</span> (file == NULL) {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;gzopen error\n&quot;</span>);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        exit(1);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    strcpy((<span class="keywordtype">char</span>*)uncompr, <span class="stringliteral">&quot;garbage&quot;</span>);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gzread_8c.html#aeb5f1523b1ce06c7ae51572189309c58">gzread</a>(file, uncompr, (<span class="keywordtype">unsigned</span>)uncomprLen) != len) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;gzread err: %s\n&quot;</span>, <a class="code" href="gzlib_8c.html#ab14de224315c916f31b251fc50a7f76b">gzerror</a>(file, &amp;err));</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        exit(1);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">if</span> (strcmp((<span class="keywordtype">char</span>*)uncompr, <a class="code" href="example_8c.html#af9e6748745abd838374d48ef66be1f0f">hello</a>)) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;bad gzread: %s\n&quot;</span>, (<span class="keywordtype">char</span>*)uncompr);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        exit(1);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        printf(<span class="stringliteral">&quot;gzread(): %s\n&quot;</span>, (<span class="keywordtype">char</span>*)uncompr);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    pos = <a class="code" href="gzlib_8c.html#a9b421973bdd9fa227020145d10c6d78d">gzseek</a>(file, -8L, <a class="code" href="zip_8c.html#a4c8d0b76b470ba65a43ca46a88320f39">SEEK_CUR</a>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span> (pos != 6 || <a class="code" href="gzlib_8c.html#ad5712d13d9cb4bedf6189327a8a38924">gztell</a>(file) != pos) {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;gzseek error, pos=%ld, gztell=%ld\n&quot;</span>,</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                (<span class="keywordtype">long</span>)pos, (<span class="keywordtype">long</span>)<a class="code" href="gzlib_8c.html#ad5712d13d9cb4bedf6189327a8a38924">gztell</a>(file));</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        exit(1);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zlib_8h.html#ac66eb8047c407f8613bc35e440b7b337">gzgetc</a>(file) != <span class="charliteral">&#39; &#39;</span>) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;gzgetc error\n&quot;</span>);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        exit(1);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gzread_8c.html#a6f484f7cd1111dde2bdbde23a83534fe">gzungetc</a>(<span class="charliteral">&#39; &#39;</span>, file) != <span class="charliteral">&#39; &#39;</span>) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;gzungetc error\n&quot;</span>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        exit(1);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="gzread_8c.html#a738bd0bcf30ad415cf349fae078bbc8f">gzgets</a>(file, (<span class="keywordtype">char</span>*)uncompr, (<span class="keywordtype">int</span>)uncomprLen);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">if</span> (strlen((<span class="keywordtype">char</span>*)uncompr) != 7) { <span class="comment">/* &quot; hello!&quot; */</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;gzgets err after gzseek: %s\n&quot;</span>, <a class="code" href="gzlib_8c.html#ab14de224315c916f31b251fc50a7f76b">gzerror</a>(file, &amp;err));</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        exit(1);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span> (strcmp((<span class="keywordtype">char</span>*)uncompr, <a class="code" href="example_8c.html#af9e6748745abd838374d48ef66be1f0f">hello</a> + 6)) {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;bad gzgets after gzseek\n&quot;</span>);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        exit(1);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        printf(<span class="stringliteral">&quot;gzgets() after gzseek: %s\n&quot;</span>, (<span class="keywordtype">char</span>*)uncompr);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="gzclose_8c.html#af9106d601241664b76b24fba210bdc2d">gzclose</a>(file);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* Z_SOLO */</span><span class="preprocessor"></span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">/* ===========================================================================</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment"> * Test deflate() with small buffers</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="example_8c.html#aea19040b80c5af57adfe2e60052fb323">  200</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#aea19040b80c5af57adfe2e60052fb323">test_deflate</a>(compr, comprLen)</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *compr;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> comprLen;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;{</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="zlib_8h.html#structz__stream">z_stream</a> c_stream; <span class="comment">/* compression stream */</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordtype">int</span> err;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> len = (<a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a>)strlen(<a class="code" href="example_8c.html#af9e6748745abd838374d48ef66be1f0f">hello</a>)+1;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#a39c3f1f00aaace5bf803e1c80643113b">zalloc</a> = <a class="code" href="example_8c.html#a0b2f68e949d83a93be0e4d0b88148c80">zalloc</a>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#ab96ddcd732e86c059414c3f2927cad65">zfree</a> = <a class="code" href="example_8c.html#a7587bb1e332fc8f57ef74071eeec8070">zfree</a>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#aa3bd7fad5556e34ae1626d8ffd89acde">opaque</a> = (<a class="code" href="zconf_8h.html#aa93554e72bde12c322c25c3c1e8675a5">voidpf</a>)0;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    err = <a class="code" href="zlib_8h.html#ae7440c1c5a8becba6dbf410275dc0a5c">deflateInit</a>(&amp;c_stream, <a class="code" href="zlib_8h.html#af5387baee05124298e431ebe6fe96b17">Z_DEFAULT_COMPRESSION</a>);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;deflateInit&quot;</span>);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#abea40a334c642cae56275e32f1bd7f11">next_in</a>  = (<a class="code" href="zconf_8h.html#a8dc97a57ad456f3016c710ee6507dbee">z_const</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code" href="example_8c.html#af9e6748745abd838374d48ef66be1f0f">hello</a>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#a5e34f774c4940b8aa5fe476390864192">next_out</a> = compr;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">while</span> (c_stream.<a class="code" href="zlib_8h.html#a37acd10cd6841ba0ad5bee7c910e5ef9">total_in</a> != len &amp;&amp; c_stream.<a class="code" href="zlib_8h.html#a3478dda91cd0a6d88a54af293c174f38">total_out</a> &lt; comprLen) {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        c_stream.<a class="code" href="zlib_8h.html#a687b6a0bbb7485527e4f9d1a443b144b">avail_in</a> = c_stream.<a class="code" href="zlib_8h.html#a39ffd574ef0c5160c8b9ad373b8dd27a">avail_out</a> = 1; <span class="comment">/* force small buffers */</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        err = <a class="code" href="deflate_8c.html#a020eb25653da3ef0f1f4f59a82c1e8ae">deflate</a>(&amp;c_stream, <a class="code" href="zlib_8h.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a>);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;deflate&quot;</span>);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">/* Finish the stream, still forcing small buffers: */</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        c_stream.<a class="code" href="zlib_8h.html#a39ffd574ef0c5160c8b9ad373b8dd27a">avail_out</a> = 1;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        err = <a class="code" href="deflate_8c.html#a020eb25653da3ef0f1f4f59a82c1e8ae">deflate</a>(&amp;c_stream, <a class="code" href="zlib_8h.html#a876a626ba14eb12eea4bbf6823b6ca50">Z_FINISH</a>);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">if</span> (err == <a class="code" href="zlib_8h.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;deflate&quot;</span>);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    err = <a class="code" href="deflate_8c.html#a6b32d6d4fa68d8aea22445f97048cf67">deflateEnd</a>(&amp;c_stream);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;deflateEnd&quot;</span>);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;}</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">/* ===========================================================================</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment"> * Test inflate() with small buffers</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="example_8c.html#a330e4cd467de7d4d4cbb0ef8c91ad4fb">  238</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#a330e4cd467de7d4d4cbb0ef8c91ad4fb">test_inflate</a>(compr, comprLen, uncompr, uncomprLen)</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *compr, *uncompr;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> comprLen, uncomprLen;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;{</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordtype">int</span> err;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="zlib_8h.html#structz__stream">z_stream</a> d_stream; <span class="comment">/* decompression stream */</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    strcpy((<span class="keywordtype">char</span>*)uncompr, <span class="stringliteral">&quot;garbage&quot;</span>);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#a39c3f1f00aaace5bf803e1c80643113b">zalloc</a> = <a class="code" href="example_8c.html#a0b2f68e949d83a93be0e4d0b88148c80">zalloc</a>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#ab96ddcd732e86c059414c3f2927cad65">zfree</a> = <a class="code" href="example_8c.html#a7587bb1e332fc8f57ef74071eeec8070">zfree</a>;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#aa3bd7fad5556e34ae1626d8ffd89acde">opaque</a> = (<a class="code" href="zconf_8h.html#aa93554e72bde12c322c25c3c1e8675a5">voidpf</a>)0;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#abea40a334c642cae56275e32f1bd7f11">next_in</a>  = compr;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#a687b6a0bbb7485527e4f9d1a443b144b">avail_in</a> = 0;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#a5e34f774c4940b8aa5fe476390864192">next_out</a> = uncompr;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    err = <a class="code" href="zlib_8h.html#ad7c6797b618699f70f61323c5184f26e">inflateInit</a>(&amp;d_stream);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;inflateInit&quot;</span>);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">while</span> (d_stream.<a class="code" href="zlib_8h.html#a3478dda91cd0a6d88a54af293c174f38">total_out</a> &lt; uncomprLen &amp;&amp; d_stream.<a class="code" href="zlib_8h.html#a37acd10cd6841ba0ad5bee7c910e5ef9">total_in</a> &lt; comprLen) {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        d_stream.<a class="code" href="zlib_8h.html#a687b6a0bbb7485527e4f9d1a443b144b">avail_in</a> = d_stream.<a class="code" href="zlib_8h.html#a39ffd574ef0c5160c8b9ad373b8dd27a">avail_out</a> = 1; <span class="comment">/* force small buffers */</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        err = <a class="code" href="inflate_8c.html#a79b92a0a5ce8f5dcdfe65d301e6c12a4">inflate</a>(&amp;d_stream, <a class="code" href="zlib_8h.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">if</span> (err == <a class="code" href="zlib_8h.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;inflate&quot;</span>);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    err = <a class="code" href="inflate_8c.html#abc6f3c66e6691b5007ecc9e1cb570fa2">inflateEnd</a>(&amp;d_stream);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;inflateEnd&quot;</span>);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">if</span> (strcmp((<span class="keywordtype">char</span>*)uncompr, <a class="code" href="example_8c.html#af9e6748745abd838374d48ef66be1f0f">hello</a>)) {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;bad inflate\n&quot;</span>);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        exit(1);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        printf(<span class="stringliteral">&quot;inflate(): %s\n&quot;</span>, (<span class="keywordtype">char</span> *)uncompr);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;}</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">/* ===========================================================================</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment"> * Test deflate() with large buffers and dynamic change of compression level</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="example_8c.html#a4610260d3c6ef866bf756145cd353e4a">  279</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#a4610260d3c6ef866bf756145cd353e4a">test_large_deflate</a>(compr, comprLen, uncompr, uncomprLen)</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *compr, *uncompr;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> comprLen, uncomprLen;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;{</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="zlib_8h.html#structz__stream">z_stream</a> c_stream; <span class="comment">/* compression stream */</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordtype">int</span> err;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#a39c3f1f00aaace5bf803e1c80643113b">zalloc</a> = <a class="code" href="example_8c.html#a0b2f68e949d83a93be0e4d0b88148c80">zalloc</a>;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#ab96ddcd732e86c059414c3f2927cad65">zfree</a> = <a class="code" href="example_8c.html#a7587bb1e332fc8f57ef74071eeec8070">zfree</a>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#aa3bd7fad5556e34ae1626d8ffd89acde">opaque</a> = (<a class="code" href="zconf_8h.html#aa93554e72bde12c322c25c3c1e8675a5">voidpf</a>)0;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    err = <a class="code" href="zlib_8h.html#ae7440c1c5a8becba6dbf410275dc0a5c">deflateInit</a>(&amp;c_stream, <a class="code" href="zlib_8h.html#ad5222ae19b77c6e83815d07ca5d03fd8">Z_BEST_SPEED</a>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;deflateInit&quot;</span>);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#a5e34f774c4940b8aa5fe476390864192">next_out</a> = compr;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#a39ffd574ef0c5160c8b9ad373b8dd27a">avail_out</a> = (<a class="code" href="zconf_8h.html#a87d141052bcd5ec8a80812a565c70369">uInt</a>)comprLen;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">/* At this point, uncompr is still mostly zeroes, so it should compress</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">     * very well:</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#abea40a334c642cae56275e32f1bd7f11">next_in</a> = uncompr;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#a687b6a0bbb7485527e4f9d1a443b144b">avail_in</a> = (<a class="code" href="zconf_8h.html#a87d141052bcd5ec8a80812a565c70369">uInt</a>)uncomprLen;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    err = <a class="code" href="deflate_8c.html#a020eb25653da3ef0f1f4f59a82c1e8ae">deflate</a>(&amp;c_stream, <a class="code" href="zlib_8h.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a>);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;deflate&quot;</span>);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">if</span> (c_stream.<a class="code" href="zlib_8h.html#a687b6a0bbb7485527e4f9d1a443b144b">avail_in</a> != 0) {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;deflate not greedy\n&quot;</span>);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        exit(1);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="comment">/* Feed in already compressed data and switch to no compression: */</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="deflate_8c.html#adb08871bcd410fb9d8d221a1ae378fa8">deflateParams</a>(&amp;c_stream, <a class="code" href="zlib_8h.html#a496a4523776bcfa14568cd083b59f24c">Z_NO_COMPRESSION</a>, <a class="code" href="zlib_8h.html#a580d7c2527e653ddd783109271750849">Z_DEFAULT_STRATEGY</a>);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#abea40a334c642cae56275e32f1bd7f11">next_in</a> = compr;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#a687b6a0bbb7485527e4f9d1a443b144b">avail_in</a> = (<a class="code" href="zconf_8h.html#a87d141052bcd5ec8a80812a565c70369">uInt</a>)comprLen/2;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    err = <a class="code" href="deflate_8c.html#a020eb25653da3ef0f1f4f59a82c1e8ae">deflate</a>(&amp;c_stream, <a class="code" href="zlib_8h.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a>);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;deflate&quot;</span>);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="comment">/* Switch back to compressing mode: */</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <a class="code" href="deflate_8c.html#adb08871bcd410fb9d8d221a1ae378fa8">deflateParams</a>(&amp;c_stream, <a class="code" href="zlib_8h.html#a8db83edd9dea51f8cf0afd1727838b95">Z_BEST_COMPRESSION</a>, <a class="code" href="zlib_8h.html#af01ccb5a9db8d415cde987d9553ad200">Z_FILTERED</a>);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#abea40a334c642cae56275e32f1bd7f11">next_in</a> = uncompr;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#a687b6a0bbb7485527e4f9d1a443b144b">avail_in</a> = (<a class="code" href="zconf_8h.html#a87d141052bcd5ec8a80812a565c70369">uInt</a>)uncomprLen;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    err = <a class="code" href="deflate_8c.html#a020eb25653da3ef0f1f4f59a82c1e8ae">deflate</a>(&amp;c_stream, <a class="code" href="zlib_8h.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a>);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;deflate&quot;</span>);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    err = <a class="code" href="deflate_8c.html#a020eb25653da3ef0f1f4f59a82c1e8ae">deflate</a>(&amp;c_stream, <a class="code" href="zlib_8h.html#a876a626ba14eb12eea4bbf6823b6ca50">Z_FINISH</a>);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">if</span> (err != <a class="code" href="zlib_8h.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>) {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;deflate should report Z_STREAM_END\n&quot;</span>);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        exit(1);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    err = <a class="code" href="deflate_8c.html#a6b32d6d4fa68d8aea22445f97048cf67">deflateEnd</a>(&amp;c_stream);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;deflateEnd&quot;</span>);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;}</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">/* ===========================================================================</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment"> * Test inflate() with large buffers</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="example_8c.html#a448bf3f8ad0104b982392f3ab124cedf">  334</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#a448bf3f8ad0104b982392f3ab124cedf">test_large_inflate</a>(compr, comprLen, uncompr, uncomprLen)</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *compr, *uncompr;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> comprLen, uncomprLen;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;{</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordtype">int</span> err;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="zlib_8h.html#structz__stream">z_stream</a> d_stream; <span class="comment">/* decompression stream */</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    strcpy((<span class="keywordtype">char</span>*)uncompr, <span class="stringliteral">&quot;garbage&quot;</span>);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#a39c3f1f00aaace5bf803e1c80643113b">zalloc</a> = <a class="code" href="example_8c.html#a0b2f68e949d83a93be0e4d0b88148c80">zalloc</a>;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#ab96ddcd732e86c059414c3f2927cad65">zfree</a> = <a class="code" href="example_8c.html#a7587bb1e332fc8f57ef74071eeec8070">zfree</a>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#aa3bd7fad5556e34ae1626d8ffd89acde">opaque</a> = (<a class="code" href="zconf_8h.html#aa93554e72bde12c322c25c3c1e8675a5">voidpf</a>)0;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#abea40a334c642cae56275e32f1bd7f11">next_in</a>  = compr;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#a687b6a0bbb7485527e4f9d1a443b144b">avail_in</a> = (<a class="code" href="zconf_8h.html#a87d141052bcd5ec8a80812a565c70369">uInt</a>)comprLen;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    err = <a class="code" href="zlib_8h.html#ad7c6797b618699f70f61323c5184f26e">inflateInit</a>(&amp;d_stream);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;inflateInit&quot;</span>);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        d_stream.<a class="code" href="zlib_8h.html#a5e34f774c4940b8aa5fe476390864192">next_out</a> = uncompr;            <span class="comment">/* discard the output */</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        d_stream.<a class="code" href="zlib_8h.html#a39ffd574ef0c5160c8b9ad373b8dd27a">avail_out</a> = (<a class="code" href="zconf_8h.html#a87d141052bcd5ec8a80812a565c70369">uInt</a>)uncomprLen;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        err = <a class="code" href="inflate_8c.html#a79b92a0a5ce8f5dcdfe65d301e6c12a4">inflate</a>(&amp;d_stream, <a class="code" href="zlib_8h.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a>);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordflow">if</span> (err == <a class="code" href="zlib_8h.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;large inflate&quot;</span>);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    err = <a class="code" href="inflate_8c.html#abc6f3c66e6691b5007ecc9e1cb570fa2">inflateEnd</a>(&amp;d_stream);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;inflateEnd&quot;</span>);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">if</span> (d_stream.<a class="code" href="zlib_8h.html#a3478dda91cd0a6d88a54af293c174f38">total_out</a> != 2*uncomprLen + comprLen/2) {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;bad large inflate: %ld\n&quot;</span>, d_stream.<a class="code" href="zlib_8h.html#a3478dda91cd0a6d88a54af293c174f38">total_out</a>);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        exit(1);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        printf(<span class="stringliteral">&quot;large_inflate(): OK\n&quot;</span>);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;}</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">/* ===========================================================================</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment"> * Test deflate() with full flush</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="example_8c.html#a8c330772572130fbf31acbf468f5af72">  375</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#a8c330772572130fbf31acbf468f5af72">test_flush</a>(compr, comprLen)</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *compr;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> *comprLen;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;{</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="zlib_8h.html#structz__stream">z_stream</a> c_stream; <span class="comment">/* compression stream */</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordtype">int</span> err;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="zconf_8h.html#a87d141052bcd5ec8a80812a565c70369">uInt</a> len = (<a class="code" href="zconf_8h.html#a87d141052bcd5ec8a80812a565c70369">uInt</a>)strlen(<a class="code" href="example_8c.html#af9e6748745abd838374d48ef66be1f0f">hello</a>)+1;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#a39c3f1f00aaace5bf803e1c80643113b">zalloc</a> = <a class="code" href="example_8c.html#a0b2f68e949d83a93be0e4d0b88148c80">zalloc</a>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#ab96ddcd732e86c059414c3f2927cad65">zfree</a> = <a class="code" href="example_8c.html#a7587bb1e332fc8f57ef74071eeec8070">zfree</a>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#aa3bd7fad5556e34ae1626d8ffd89acde">opaque</a> = (<a class="code" href="zconf_8h.html#aa93554e72bde12c322c25c3c1e8675a5">voidpf</a>)0;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    err = <a class="code" href="zlib_8h.html#ae7440c1c5a8becba6dbf410275dc0a5c">deflateInit</a>(&amp;c_stream, <a class="code" href="zlib_8h.html#af5387baee05124298e431ebe6fe96b17">Z_DEFAULT_COMPRESSION</a>);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;deflateInit&quot;</span>);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#abea40a334c642cae56275e32f1bd7f11">next_in</a>  = (<a class="code" href="zconf_8h.html#a8dc97a57ad456f3016c710ee6507dbee">z_const</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code" href="example_8c.html#af9e6748745abd838374d48ef66be1f0f">hello</a>;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#a5e34f774c4940b8aa5fe476390864192">next_out</a> = compr;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#a687b6a0bbb7485527e4f9d1a443b144b">avail_in</a> = 3;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#a39ffd574ef0c5160c8b9ad373b8dd27a">avail_out</a> = (<a class="code" href="zconf_8h.html#a87d141052bcd5ec8a80812a565c70369">uInt</a>)*comprLen;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    err = <a class="code" href="deflate_8c.html#a020eb25653da3ef0f1f4f59a82c1e8ae">deflate</a>(&amp;c_stream, <a class="code" href="zlib_8h.html#aed4fbb038c3973aacf52fccffbc44b53">Z_FULL_FLUSH</a>);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;deflate&quot;</span>);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    compr[3]++; <span class="comment">/* force an error in first compressed block */</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#a687b6a0bbb7485527e4f9d1a443b144b">avail_in</a> = len - 3;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    err = <a class="code" href="deflate_8c.html#a020eb25653da3ef0f1f4f59a82c1e8ae">deflate</a>(&amp;c_stream, <a class="code" href="zlib_8h.html#a876a626ba14eb12eea4bbf6823b6ca50">Z_FINISH</a>);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">if</span> (err != <a class="code" href="zlib_8h.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>) {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;deflate&quot;</span>);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    }</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    err = <a class="code" href="deflate_8c.html#a6b32d6d4fa68d8aea22445f97048cf67">deflateEnd</a>(&amp;c_stream);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;deflateEnd&quot;</span>);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    *comprLen = c_stream.<a class="code" href="zlib_8h.html#a3478dda91cd0a6d88a54af293c174f38">total_out</a>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;}</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">/* ===========================================================================</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment"> * Test inflateSync()</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="example_8c.html#af7ba7234d86c85a9efef84bd2ccab14a">  413</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#af7ba7234d86c85a9efef84bd2ccab14a">test_sync</a>(compr, comprLen, uncompr, uncomprLen)</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *compr, *uncompr;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> comprLen, uncomprLen;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;{</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordtype">int</span> err;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <a class="code" href="zlib_8h.html#structz__stream">z_stream</a> d_stream; <span class="comment">/* decompression stream */</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    strcpy((<span class="keywordtype">char</span>*)uncompr, <span class="stringliteral">&quot;garbage&quot;</span>);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#a39c3f1f00aaace5bf803e1c80643113b">zalloc</a> = <a class="code" href="example_8c.html#a0b2f68e949d83a93be0e4d0b88148c80">zalloc</a>;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#ab96ddcd732e86c059414c3f2927cad65">zfree</a> = <a class="code" href="example_8c.html#a7587bb1e332fc8f57ef74071eeec8070">zfree</a>;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#aa3bd7fad5556e34ae1626d8ffd89acde">opaque</a> = (<a class="code" href="zconf_8h.html#aa93554e72bde12c322c25c3c1e8675a5">voidpf</a>)0;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#abea40a334c642cae56275e32f1bd7f11">next_in</a>  = compr;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#a687b6a0bbb7485527e4f9d1a443b144b">avail_in</a> = 2; <span class="comment">/* just read the zlib header */</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    err = <a class="code" href="zlib_8h.html#ad7c6797b618699f70f61323c5184f26e">inflateInit</a>(&amp;d_stream);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;inflateInit&quot;</span>);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#a5e34f774c4940b8aa5fe476390864192">next_out</a> = uncompr;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#a39ffd574ef0c5160c8b9ad373b8dd27a">avail_out</a> = (<a class="code" href="zconf_8h.html#a87d141052bcd5ec8a80812a565c70369">uInt</a>)uncomprLen;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <a class="code" href="inflate_8c.html#a79b92a0a5ce8f5dcdfe65d301e6c12a4">inflate</a>(&amp;d_stream, <a class="code" href="zlib_8h.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a>);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;inflate&quot;</span>);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#a687b6a0bbb7485527e4f9d1a443b144b">avail_in</a> = (<a class="code" href="zconf_8h.html#a87d141052bcd5ec8a80812a565c70369">uInt</a>)comprLen-2;   <span class="comment">/* read all compressed data */</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    err = <a class="code" href="inflate_8c.html#a6311fc784f0bf21d96cb58962359ea61">inflateSync</a>(&amp;d_stream);           <span class="comment">/* but skip the damaged part */</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;inflateSync&quot;</span>);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    err = <a class="code" href="inflate_8c.html#a79b92a0a5ce8f5dcdfe65d301e6c12a4">inflate</a>(&amp;d_stream, <a class="code" href="zlib_8h.html#a876a626ba14eb12eea4bbf6823b6ca50">Z_FINISH</a>);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">if</span> (err != <a class="code" href="zlib_8h.html#a9eda83d428a71752d148f38b5dbe04f2">Z_DATA_ERROR</a>) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;inflate should report DATA_ERROR\n&quot;</span>);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="comment">/* Because of incorrect adler32 */</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        exit(1);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    }</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    err = <a class="code" href="inflate_8c.html#abc6f3c66e6691b5007ecc9e1cb570fa2">inflateEnd</a>(&amp;d_stream);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;inflateEnd&quot;</span>);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    printf(<span class="stringliteral">&quot;after inflateSync(): hel%s\n&quot;</span>, (<span class="keywordtype">char</span> *)uncompr);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;}</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">/* ===========================================================================</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment"> * Test deflate() with preset dictionary</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00457"></a><span class="lineno"><a class="line" href="example_8c.html#ad29d7651ff1ea77f6e0cf678b20d484b">  457</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#ad29d7651ff1ea77f6e0cf678b20d484b">test_dict_deflate</a>(compr, comprLen)</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *compr;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> comprLen;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;{</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="zlib_8h.html#structz__stream">z_stream</a> c_stream; <span class="comment">/* compression stream */</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordtype">int</span> err;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#a39c3f1f00aaace5bf803e1c80643113b">zalloc</a> = <a class="code" href="example_8c.html#a0b2f68e949d83a93be0e4d0b88148c80">zalloc</a>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#ab96ddcd732e86c059414c3f2927cad65">zfree</a> = <a class="code" href="example_8c.html#a7587bb1e332fc8f57ef74071eeec8070">zfree</a>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#aa3bd7fad5556e34ae1626d8ffd89acde">opaque</a> = (<a class="code" href="zconf_8h.html#aa93554e72bde12c322c25c3c1e8675a5">voidpf</a>)0;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    err = <a class="code" href="zlib_8h.html#ae7440c1c5a8becba6dbf410275dc0a5c">deflateInit</a>(&amp;c_stream, <a class="code" href="zlib_8h.html#a8db83edd9dea51f8cf0afd1727838b95">Z_BEST_COMPRESSION</a>);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;deflateInit&quot;</span>);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    err = <a class="code" href="deflate_8c.html#a49e4f2317baf6ab80f81d0934e49a6b6">deflateSetDictionary</a>(&amp;c_stream,</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                (<span class="keyword">const</span> <a class="code" href="zconf_8h.html#ac5613fe8160cbbf89d3e470574b755fb">Bytef</a>*)<a class="code" href="example_8c.html#a050a02a0902aa81571331f8b3b876deb">dictionary</a>, (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(<a class="code" href="example_8c.html#a050a02a0902aa81571331f8b3b876deb">dictionary</a>));</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;deflateSetDictionary&quot;</span>);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <a class="code" href="example_8c.html#a2f82b9ba7bbe7732f3936b464d5104c5">dictId</a> = c_stream.<a class="code" href="zlib_8h.html#a04334dfae29f0790d16d50052614e87f">adler</a>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#a5e34f774c4940b8aa5fe476390864192">next_out</a> = compr;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#a39ffd574ef0c5160c8b9ad373b8dd27a">avail_out</a> = (<a class="code" href="zconf_8h.html#a87d141052bcd5ec8a80812a565c70369">uInt</a>)comprLen;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#abea40a334c642cae56275e32f1bd7f11">next_in</a> = (<a class="code" href="zconf_8h.html#a8dc97a57ad456f3016c710ee6507dbee">z_const</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code" href="example_8c.html#af9e6748745abd838374d48ef66be1f0f">hello</a>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    c_stream.<a class="code" href="zlib_8h.html#a687b6a0bbb7485527e4f9d1a443b144b">avail_in</a> = (<a class="code" href="zconf_8h.html#a87d141052bcd5ec8a80812a565c70369">uInt</a>)strlen(<a class="code" href="example_8c.html#af9e6748745abd838374d48ef66be1f0f">hello</a>)+1;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    err = <a class="code" href="deflate_8c.html#a020eb25653da3ef0f1f4f59a82c1e8ae">deflate</a>(&amp;c_stream, <a class="code" href="zlib_8h.html#a876a626ba14eb12eea4bbf6823b6ca50">Z_FINISH</a>);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">if</span> (err != <a class="code" href="zlib_8h.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>) {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;deflate should report Z_STREAM_END\n&quot;</span>);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        exit(1);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    err = <a class="code" href="deflate_8c.html#a6b32d6d4fa68d8aea22445f97048cf67">deflateEnd</a>(&amp;c_stream);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;deflateEnd&quot;</span>);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;}</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">/* ===========================================================================</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment"> * Test inflate() with a preset dictionary</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="example_8c.html#a7dd13dbc6c74ed924c3fee85e734494f">  494</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="example_8c.html#a7dd13dbc6c74ed924c3fee85e734494f">test_dict_inflate</a>(compr, comprLen, uncompr, uncomprLen)</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *compr, *uncompr;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> comprLen, uncomprLen;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;{</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordtype">int</span> err;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <a class="code" href="zlib_8h.html#structz__stream">z_stream</a> d_stream; <span class="comment">/* decompression stream */</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    strcpy((<span class="keywordtype">char</span>*)uncompr, <span class="stringliteral">&quot;garbage&quot;</span>);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#a39c3f1f00aaace5bf803e1c80643113b">zalloc</a> = <a class="code" href="example_8c.html#a0b2f68e949d83a93be0e4d0b88148c80">zalloc</a>;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#ab96ddcd732e86c059414c3f2927cad65">zfree</a> = <a class="code" href="example_8c.html#a7587bb1e332fc8f57ef74071eeec8070">zfree</a>;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#aa3bd7fad5556e34ae1626d8ffd89acde">opaque</a> = (<a class="code" href="zconf_8h.html#aa93554e72bde12c322c25c3c1e8675a5">voidpf</a>)0;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#abea40a334c642cae56275e32f1bd7f11">next_in</a>  = compr;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#a687b6a0bbb7485527e4f9d1a443b144b">avail_in</a> = (<a class="code" href="zconf_8h.html#a87d141052bcd5ec8a80812a565c70369">uInt</a>)comprLen;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    err = <a class="code" href="zlib_8h.html#ad7c6797b618699f70f61323c5184f26e">inflateInit</a>(&amp;d_stream);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;inflateInit&quot;</span>);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#a5e34f774c4940b8aa5fe476390864192">next_out</a> = uncompr;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    d_stream.<a class="code" href="zlib_8h.html#a39ffd574ef0c5160c8b9ad373b8dd27a">avail_out</a> = (<a class="code" href="zconf_8h.html#a87d141052bcd5ec8a80812a565c70369">uInt</a>)uncomprLen;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        err = <a class="code" href="inflate_8c.html#a79b92a0a5ce8f5dcdfe65d301e6c12a4">inflate</a>(&amp;d_stream, <a class="code" href="zlib_8h.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a>);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">if</span> (err == <a class="code" href="zlib_8h.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a>) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keywordflow">if</span> (err == <a class="code" href="zlib_8h.html#a32916ba675b2d06463da2576b6a49d64">Z_NEED_DICT</a>) {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <span class="keywordflow">if</span> (d_stream.<a class="code" href="zlib_8h.html#a04334dfae29f0790d16d50052614e87f">adler</a> != <a class="code" href="example_8c.html#a2f82b9ba7bbe7732f3936b464d5104c5">dictId</a>) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                fprintf(stderr, <span class="stringliteral">&quot;unexpected dictionary&quot;</span>);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                exit(1);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            err = <a class="code" href="inflate_8c.html#a70a95f343952a809bbb6bcf3b362e593">inflateSetDictionary</a>(&amp;d_stream, (<span class="keyword">const</span> <a class="code" href="zconf_8h.html#ac5613fe8160cbbf89d3e470574b755fb">Bytef</a>*)<a class="code" href="example_8c.html#a050a02a0902aa81571331f8b3b876deb">dictionary</a>,</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                                       (<span class="keywordtype">int</span>)<span class="keyword">sizeof</span>(<a class="code" href="example_8c.html#a050a02a0902aa81571331f8b3b876deb">dictionary</a>));</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;inflate with dict&quot;</span>);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    err = <a class="code" href="inflate_8c.html#abc6f3c66e6691b5007ecc9e1cb570fa2">inflateEnd</a>(&amp;d_stream);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <a class="code" href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a>(err, <span class="stringliteral">&quot;inflateEnd&quot;</span>);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">if</span> (strcmp((<span class="keywordtype">char</span>*)uncompr, <a class="code" href="example_8c.html#af9e6748745abd838374d48ef66be1f0f">hello</a>)) {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;bad inflate with dict\n&quot;</span>);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        exit(1);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        printf(<span class="stringliteral">&quot;inflate with dictionary: %s\n&quot;</span>, (<span class="keywordtype">char</span> *)uncompr);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    }</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;}</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment">/* ===========================================================================</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment"> * Usage:  example [output.gz  [input.gz]]</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno"><a class="line" href="example_8c.html#afced8478b91af5c169926dfa4426333d">  545</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="example_8c.html#afced8478b91af5c169926dfa4426333d">main</a>(argc, argv)</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    int argc;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordtype">char</span> *argv[];</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;{</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a> *compr, *uncompr;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> comprLen = 10000*<span class="keyword">sizeof</span>(int); <span class="comment">/* don&#39;t overflow on MSDOS */</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a> uncomprLen = comprLen;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* myVersion = <a class="code" href="zlib_8h.html#a51dc9dc65e483b3222c1f0f6a87eb76e">ZLIB_VERSION</a>;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zlib_8h.html#abce074566fe1761a0bc1746663ea3124">zlibVersion</a>()[0] != myVersion[0]) {</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;incompatible zlib version\n&quot;</span>);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        exit(1);</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(<a class="code" href="zlib_8h.html#abce074566fe1761a0bc1746663ea3124">zlibVersion</a>(), <a class="code" href="zlib_8h.html#a51dc9dc65e483b3222c1f0f6a87eb76e">ZLIB_VERSION</a>) != 0) {</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;warning: different zlib version\n&quot;</span>);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    }</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    printf(<span class="stringliteral">&quot;zlib version %s = 0x%04x, compile flags = 0x%lx\n&quot;</span>,</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            <a class="code" href="zlib_8h.html#a51dc9dc65e483b3222c1f0f6a87eb76e">ZLIB_VERSION</a>, <a class="code" href="zlib_8h.html#a6413cdfb4cdc0b5a09cf9b5f3f8f48ef">ZLIB_VERNUM</a>, <a class="code" href="zlib_8h.html#a416647b2b534c3aa03be6d88aa2429fb">zlibCompileFlags</a>());</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    compr    = (<a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a>*)<a class="code" href="zutil_8c.html#aebd5c667302d7b972ed849f359982306">calloc</a>((<a class="code" href="zconf_8h.html#a87d141052bcd5ec8a80812a565c70369">uInt</a>)comprLen, 1);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    uncompr  = (<a class="code" href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a>*)<a class="code" href="zutil_8c.html#aebd5c667302d7b972ed849f359982306">calloc</a>((<a class="code" href="zconf_8h.html#a87d141052bcd5ec8a80812a565c70369">uInt</a>)uncomprLen, 1);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="comment">/* compr and uncompr are cleared to avoid reading uninitialized</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">     * data and to ensure that uncompr compresses well.</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">if</span> (compr == <a class="code" href="zlib_8h.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a> || uncompr == <a class="code" href="zlib_8h.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>) {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        printf(<span class="stringliteral">&quot;out of memory\n&quot;</span>);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        exit(1);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    }</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="preprocessor">#ifdef Z_SOLO</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    argc = strlen(argv[0]);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="example_8c.html#a6a9558a2f570739d5bb2a1985d4f9a5d">test_compress</a>(compr, comprLen, uncompr, uncomprLen);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <a class="code" href="example_8c.html#adb492214325c044e5ee956b124efe2d8">test_gzio</a>((argc &gt; 1 ? argv[1] : <a class="code" href="example_8c.html#a4258e41b25299240dbf3e33b0b61913d">TESTFILE</a>),</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;              uncompr, uncomprLen);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="example_8c.html#aea19040b80c5af57adfe2e60052fb323">test_deflate</a>(compr, comprLen);</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <a class="code" href="example_8c.html#a330e4cd467de7d4d4cbb0ef8c91ad4fb">test_inflate</a>(compr, comprLen, uncompr, uncomprLen);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="example_8c.html#a4610260d3c6ef866bf756145cd353e4a">test_large_deflate</a>(compr, comprLen, uncompr, uncomprLen);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <a class="code" href="example_8c.html#a448bf3f8ad0104b982392f3ab124cedf">test_large_inflate</a>(compr, comprLen, uncompr, uncomprLen);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <a class="code" href="example_8c.html#a8c330772572130fbf31acbf468f5af72">test_flush</a>(compr, &amp;comprLen);</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <a class="code" href="example_8c.html#af7ba7234d86c85a9efef84bd2ccab14a">test_sync</a>(compr, comprLen, uncompr, uncomprLen);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    comprLen = uncomprLen;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <a class="code" href="example_8c.html#ad29d7651ff1ea77f6e0cf678b20d484b">test_dict_deflate</a>(compr, comprLen);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="example_8c.html#a7dd13dbc6c74ed924c3fee85e734494f">test_dict_inflate</a>(compr, comprLen, uncompr, uncomprLen);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <a class="code" href="gzguts_8h.html#aafde19f7d36ca163a143579c1b125b6d">free</a>(compr);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <a class="code" href="gzguts_8h.html#aafde19f7d36ca163a143579c1b125b6d">free</a>(uncompr);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div><div class="ttc" id="zlib_8h_html_aa3bd7fad5556e34ae1626d8ffd89acde"><div class="ttname"><a href="zlib_8h.html#aa3bd7fad5556e34ae1626d8ffd89acde">z_stream::opaque</a></div><div class="ttdeci">voidpf opaque</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00099">zlib.h:99</a></div></div>
<div class="ttc" id="deflate_8c_html_a49e4f2317baf6ab80f81d0934e49a6b6"><div class="ttname"><a href="deflate_8c.html#a49e4f2317baf6ab80f81d0934e49a6b6">deflateSetDictionary</a></div><div class="ttdeci">int deflateSetDictionary(z_streamp strm, Bytef *dictionary, uInt dictLength)</div><div class="ttdef"><b>Definition:</b> <a href="deflate_8c_source.html#l00323">deflate.c:323</a></div></div>
<div class="ttc" id="zlib_8h_html_a04334dfae29f0790d16d50052614e87f"><div class="ttname"><a href="zlib_8h.html#a04334dfae29f0790d16d50052614e87f">z_stream::adler</a></div><div class="ttdeci">uLong adler</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00102">zlib.h:102</a></div></div>
<div class="ttc" id="zlib_8h_html_a70a8c0d82946d5d5b3eaa299e732e6c5"><div class="ttname"><a href="zlib_8h.html#a70a8c0d82946d5d5b3eaa299e732e6c5">alloc_func</a></div><div class="ttdeci">voidpf(* alloc_func)()</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00080">zlib.h:80</a></div></div>
<div class="ttc" id="example_8c_html_a026990621b357a386d7f3c42a9c5dfcc"><div class="ttname"><a href="example_8c.html#a026990621b357a386d7f3c42a9c5dfcc">CHECK_ERR</a></div><div class="ttdeci">#define CHECK_ERR(err, msg)</div><div class="ttdef"><b>Definition:</b> <a href="example_8c_source.html#l00022">example.c:22</a></div></div>
<div class="ttc" id="example_8c_html_a72d78744e1b557706d7af470f7e8794d"><div class="ttname"><a href="example_8c.html#a72d78744e1b557706d7af470f7e8794d">OF</a></div><div class="ttdeci">void test_deflate OF((Byte *compr, uLong comprLen))</div></div>
<div class="ttc" id="uncompr_8c_html_aaa6e1df03840ed10525d879a7d8e0b6c"><div class="ttname"><a href="uncompr_8c.html#aaa6e1df03840ed10525d879a7d8e0b6c">uncompress</a></div><div class="ttdeci">int uncompress(Bytef *dest, uLongf *destLen, Bytef *source, uLong sourceLen)</div><div class="ttdef"><b>Definition:</b> <a href="uncompr_8c_source.html#l00024">uncompr.c:24</a></div></div>
<div class="ttc" id="gzread_8c_html_a738bd0bcf30ad415cf349fae078bbc8f"><div class="ttname"><a href="gzread_8c.html#a738bd0bcf30ad415cf349fae078bbc8f">gzgets</a></div><div class="ttdeci">char * gzgets(gzFile file, char *buf, int len)</div><div class="ttdef"><b>Definition:</b> <a href="gzread_8c_source.html#l00483">gzread.c:483</a></div></div>
<div class="ttc" id="zconf_8h_html_ae3a497195d617519e5353ea7b417940f"><div class="ttname"><a href="zconf_8h.html#ae3a497195d617519e5353ea7b417940f">Byte</a></div><div class="ttdeci">unsigned char Byte</div><div class="ttdef"><b>Definition:</b> <a href="zconf_8h_source.html#l00368">zconf.h:368</a></div></div>
<div class="ttc" id="zlib_8h_html_ac3b62e37b9922d9496014515acd6083a"><div class="ttname"><a href="zlib_8h.html#ac3b62e37b9922d9496014515acd6083a">Z_NO_FLUSH</a></div><div class="ttdeci">#define Z_NO_FLUSH</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00164">zlib.h:164</a></div></div>
<div class="ttc" id="deflate_8c_html_a6b32d6d4fa68d8aea22445f97048cf67"><div class="ttname"><a href="deflate_8c.html#a6b32d6d4fa68d8aea22445f97048cf67">deflateEnd</a></div><div class="ttdeci">int deflateEnd(z_streamp strm)</div><div class="ttdef"><b>Definition:</b> <a href="deflate_8c_source.html#l00979">deflate.c:979</a></div></div>
<div class="ttc" id="example_8c_html_a448bf3f8ad0104b982392f3ab124cedf"><div class="ttname"><a href="example_8c.html#a448bf3f8ad0104b982392f3ab124cedf">test_large_inflate</a></div><div class="ttdeci">void test_large_inflate(Byte *compr, uLong comprLen, Byte *uncompr, uLong uncomprLen)</div><div class="ttdef"><b>Definition:</b> <a href="example_8c_source.html#l00334">example.c:334</a></div></div>
<div class="ttc" id="gzlib_8c_html_a9b421973bdd9fa227020145d10c6d78d"><div class="ttname"><a href="gzlib_8c.html#a9b421973bdd9fa227020145d10c6d78d">gzseek</a></div><div class="ttdeci">long gzseek(gzFile file, long offset, int whence)</div><div class="ttdef"><b>Definition:</b> <a href="gzlib_8c_source.html#l00439">gzlib.c:439</a></div></div>
<div class="ttc" id="zlib_8h_html_a8db83edd9dea51f8cf0afd1727838b95"><div class="ttname"><a href="zlib_8h.html#a8db83edd9dea51f8cf0afd1727838b95">Z_BEST_COMPRESSION</a></div><div class="ttdeci">#define Z_BEST_COMPRESSION</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00188">zlib.h:188</a></div></div>
<div class="ttc" id="zlib_8h_html_ab96ddcd732e86c059414c3f2927cad65"><div class="ttname"><a href="zlib_8h.html#ab96ddcd732e86c059414c3f2927cad65">z_stream::zfree</a></div><div class="ttdeci">free_func zfree</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00098">zlib.h:98</a></div></div>
<div class="ttc" id="example_8c_html_a8c330772572130fbf31acbf468f5af72"><div class="ttname"><a href="example_8c.html#a8c330772572130fbf31acbf468f5af72">test_flush</a></div><div class="ttdeci">void test_flush(Byte *compr, uLong *comprLen)</div><div class="ttdef"><b>Definition:</b> <a href="example_8c_source.html#l00375">example.c:375</a></div></div>
<div class="ttc" id="zconf_8h_html_a8cf4661a88ec12823d7cbdd3fa629eb0"><div class="ttname"><a href="zconf_8h.html#a8cf4661a88ec12823d7cbdd3fa629eb0">z_off_t</a></div><div class="ttdeci">#define z_off_t</div><div class="ttdef"><b>Definition:</b> <a href="zconf_8h_source.html#l00481">zconf.h:481</a></div></div>
<div class="ttc" id="gzread_8c_html_aeb5f1523b1ce06c7ae51572189309c58"><div class="ttname"><a href="gzread_8c.html#aeb5f1523b1ce06c7ae51572189309c58">gzread</a></div><div class="ttdeci">int gzread(gzFile file, voidp buf, unsigned len)</div><div class="ttdef"><b>Definition:</b> <a href="gzread_8c_source.html#l00288">gzread.c:288</a></div></div>
<div class="ttc" id="gzwrite_8c_html_af7b867ccccdcd23e890f251b7401460b"><div class="ttname"><a href="gzwrite_8c.html#af7b867ccccdcd23e890f251b7401460b">gzputc</a></div><div class="ttdeci">int gzputc(gzFile file, int c)</div><div class="ttdef"><b>Definition:</b> <a href="gzwrite_8c_source.html#l00245">gzwrite.c:245</a></div></div>
<div class="ttc" id="example_8c_html_af9e6748745abd838374d48ef66be1f0f"><div class="ttname"><a href="example_8c.html#af9e6748745abd838374d48ef66be1f0f">hello</a></div><div class="ttdeci">z_const char hello[]</div><div class="ttdef"><b>Definition:</b> <a href="example_8c_source.html#l00029">example.c:29</a></div></div>
<div class="ttc" id="zlib_8h_html_a32916ba675b2d06463da2576b6a49d64"><div class="ttname"><a href="zlib_8h.html#a32916ba675b2d06463da2576b6a49d64">Z_NEED_DICT</a></div><div class="ttdeci">#define Z_NEED_DICT</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00175">zlib.h:175</a></div></div>
<div class="ttc" id="gzlib_8c_html_a54142010ac2da15a90a844f410ab8009"><div class="ttname"><a href="gzlib_8c.html#a54142010ac2da15a90a844f410ab8009">gzopen</a></div><div class="ttdeci">gzFile gzopen(char *path, char *mode)</div><div class="ttdef"><b>Definition:</b> <a href="gzlib_8c_source.html#l00268">gzlib.c:268</a></div></div>
<div class="ttc" id="zlib_8h_html_abce074566fe1761a0bc1746663ea3124"><div class="ttname"><a href="zlib_8h.html#abce074566fe1761a0bc1746663ea3124">zlibVersion</a></div><div class="ttdeci">char * zlibVersion()</div><div class="ttdef"><b>Definition:</b> <a href="zutil_8c_source.html#l00030">zutil.c:30</a></div></div>
<div class="ttc" id="zconf_8h_html_aa93554e72bde12c322c25c3c1e8675a5"><div class="ttname"><a href="zconf_8h.html#aa93554e72bde12c322c25c3c1e8675a5">voidpf</a></div><div class="ttdeci">Byte * voidpf</div><div class="ttdef"><b>Definition:</b> <a href="zconf_8h_source.html#l00390">zconf.h:390</a></div></div>
<div class="ttc" id="zconf_8h_html_acd2a5701a3aecf6700d2c66c606ecb40"><div class="ttname"><a href="zconf_8h.html#acd2a5701a3aecf6700d2c66c606ecb40">uLong</a></div><div class="ttdeci">unsigned long uLong</div><div class="ttdef"><b>Definition:</b> <a href="zconf_8h_source.html#l00371">zconf.h:371</a></div></div>
<div class="ttc" id="example_8c_html_a0b2f68e949d83a93be0e4d0b88148c80"><div class="ttname"><a href="example_8c.html#a0b2f68e949d83a93be0e4d0b88148c80">zalloc</a></div><div class="ttdeci">static alloc_func zalloc</div><div class="ttdef"><b>Definition:</b> <a href="example_8c_source.html#l00077">example.c:77</a></div></div>
<div class="ttc" id="gzwrite_8c_html_ac7a0f0035b65d092d4f3824782f08c85"><div class="ttname"><a href="gzwrite_8c.html#ac7a0f0035b65d092d4f3824782f08c85">gzprintf</a></div><div class="ttdeci">int gzprintf(gzFile file, char *format, int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20)</div><div class="ttdef"><b>Definition:</b> <a href="gzwrite_8c_source.html#l00386">gzwrite.c:386</a></div></div>
<div class="ttc" id="gzread_8c_html_a6f484f7cd1111dde2bdbde23a83534fe"><div class="ttname"><a href="gzread_8c.html#a6f484f7cd1111dde2bdbde23a83534fe">gzungetc</a></div><div class="ttdeci">int gzungetc(int c, gzFile file)</div><div class="ttdef"><b>Definition:</b> <a href="gzread_8c_source.html#l00423">gzread.c:423</a></div></div>
<div class="ttc" id="example_8c_html_ad29d7651ff1ea77f6e0cf678b20d484b"><div class="ttname"><a href="example_8c.html#ad29d7651ff1ea77f6e0cf678b20d484b">test_dict_deflate</a></div><div class="ttdeci">void test_dict_deflate(Byte *compr, uLong comprLen)</div><div class="ttdef"><b>Definition:</b> <a href="example_8c_source.html#l00457">example.c:457</a></div></div>
<div class="ttc" id="zlib_8h_html_af01ccb5a9db8d415cde987d9553ad200"><div class="ttname"><a href="zlib_8h.html#af01ccb5a9db8d415cde987d9553ad200">Z_FILTERED</a></div><div class="ttdeci">#define Z_FILTERED</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00192">zlib.h:192</a></div></div>
<div class="ttc" id="zlib_8h_html_a37acd10cd6841ba0ad5bee7c910e5ef9"><div class="ttname"><a href="zlib_8h.html#a37acd10cd6841ba0ad5bee7c910e5ef9">z_stream::total_in</a></div><div class="ttdeci">uLong total_in</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00088">zlib.h:88</a></div></div>
<div class="ttc" id="gzguts_8h_html_aafde19f7d36ca163a143579c1b125b6d"><div class="ttname"><a href="gzguts_8h.html#aafde19f7d36ca163a143579c1b125b6d">free</a></div><div class="ttdeci">void free()</div></div>
<div class="ttc" id="zlib_8h_html_a39c3f1f00aaace5bf803e1c80643113b"><div class="ttname"><a href="zlib_8h.html#a39c3f1f00aaace5bf803e1c80643113b">z_stream::zalloc</a></div><div class="ttdeci">alloc_func zalloc</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00097">zlib.h:97</a></div></div>
<div class="ttc" id="zconf_8h_html_a8dc97a57ad456f3016c710ee6507dbee"><div class="ttname"><a href="zconf_8h.html#a8dc97a57ad456f3016c710ee6507dbee">z_const</a></div><div class="ttdeci">#define z_const</div><div class="ttdef"><b>Definition:</b> <a href="zconf_8h_source.html#l00224">zconf.h:224</a></div></div>
<div class="ttc" id="compress_8c_html_aa0962f70f4c727dc553d573d9fbb6364"><div class="ttname"><a href="compress_8c.html#aa0962f70f4c727dc553d573d9fbb6364">compress</a></div><div class="ttdeci">int compress(Bytef *dest, uLongf *destLen, Bytef *source, uLong sourceLen)</div><div class="ttdef"><b>Definition:</b> <a href="compress_8c_source.html#l00062">compress.c:62</a></div></div>
<div class="ttc" id="zlib_8h_html_abea40a334c642cae56275e32f1bd7f11"><div class="ttname"><a href="zlib_8h.html#abea40a334c642cae56275e32f1bd7f11">z_stream::next_in</a></div><div class="ttdeci">Bytef * next_in</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00086">zlib.h:86</a></div></div>
<div class="ttc" id="zlib_8h_html"><div class="ttname"><a href="zlib_8h.html">zlib.h</a></div></div>
<div class="ttc" id="zlib_8h_html_a876a626ba14eb12eea4bbf6823b6ca50"><div class="ttname"><a href="zlib_8h.html#a876a626ba14eb12eea4bbf6823b6ca50">Z_FINISH</a></div><div class="ttdeci">#define Z_FINISH</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00168">zlib.h:168</a></div></div>
<div class="ttc" id="example_8c_html_a7dd13dbc6c74ed924c3fee85e734494f"><div class="ttname"><a href="example_8c.html#a7dd13dbc6c74ed924c3fee85e734494f">test_dict_inflate</a></div><div class="ttdeci">void test_dict_inflate(Byte *compr, uLong comprLen, Byte *uncompr, uLong uncomprLen)</div><div class="ttdef"><b>Definition:</b> <a href="example_8c_source.html#l00494">example.c:494</a></div></div>
<div class="ttc" id="gzclose_8c_html_af9106d601241664b76b24fba210bdc2d"><div class="ttname"><a href="gzclose_8c.html#af9106d601241664b76b24fba210bdc2d">gzclose</a></div><div class="ttdeci">int gzclose(gzFile file)</div><div class="ttdef"><b>Definition:</b> <a href="gzclose_8c_source.html#l00011">gzclose.c:11</a></div></div>
<div class="ttc" id="zlib_8h_html_a9eda83d428a71752d148f38b5dbe04f2"><div class="ttname"><a href="zlib_8h.html#a9eda83d428a71752d148f38b5dbe04f2">Z_DATA_ERROR</a></div><div class="ttdeci">#define Z_DATA_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00178">zlib.h:178</a></div></div>
<div class="ttc" id="zip_8c_html_a4c8d0b76b470ba65a43ca46a88320f39"><div class="ttname"><a href="zip_8c.html#a4c8d0b76b470ba65a43ca46a88320f39">SEEK_CUR</a></div><div class="ttdeci">#define SEEK_CUR</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00080">zip.c:80</a></div></div>
<div class="ttc" id="zlib_8h_html_ac66eb8047c407f8613bc35e440b7b337"><div class="ttname"><a href="zlib_8h.html#ac66eb8047c407f8613bc35e440b7b337">gzgetc</a></div><div class="ttdeci">#define gzgetc(g)</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l01681">zlib.h:1681</a></div></div>
<div class="ttc" id="zlib_8h_html_structz__stream"><div class="ttname"><a href="zlib_8h.html#structz__stream">z_stream</a></div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00085">zlib.h:85</a></div></div>
<div class="ttc" id="zlib_8h_html_a7d94a4a852228a899864a0053162e7a8"><div class="ttname"><a href="zlib_8h.html#a7d94a4a852228a899864a0053162e7a8">Z_STREAM_END</a></div><div class="ttdeci">#define Z_STREAM_END</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00174">zlib.h:174</a></div></div>
<div class="ttc" id="zlib_8h_html_a416647b2b534c3aa03be6d88aa2429fb"><div class="ttname"><a href="zlib_8h.html#a416647b2b534c3aa03be6d88aa2429fb">zlibCompileFlags</a></div><div class="ttdeci">uLong zlibCompileFlags()</div><div class="ttdef"><b>Definition:</b> <a href="zutil_8c_source.html#l00035">zutil.c:35</a></div></div>
<div class="ttc" id="example_8c_html_a4258e41b25299240dbf3e33b0b61913d"><div class="ttname"><a href="example_8c.html#a4258e41b25299240dbf3e33b0b61913d">TESTFILE</a></div><div class="ttdeci">#define TESTFILE</div><div class="ttdef"><b>Definition:</b> <a href="example_8c_source.html#l00019">example.c:19</a></div></div>
<div class="ttc" id="example_8c_html_a330e4cd467de7d4d4cbb0ef8c91ad4fb"><div class="ttname"><a href="example_8c.html#a330e4cd467de7d4d4cbb0ef8c91ad4fb">test_inflate</a></div><div class="ttdeci">void test_inflate(Byte *compr, uLong comprLen, Byte *uncompr, uLong uncomprLen)</div><div class="ttdef"><b>Definition:</b> <a href="example_8c_source.html#l00238">example.c:238</a></div></div>
<div class="ttc" id="gzwrite_8c_html_a16608fd5121867bc7c92e0f819d6c7ac"><div class="ttname"><a href="gzwrite_8c.html#a16608fd5121867bc7c92e0f819d6c7ac">gzputs</a></div><div class="ttdeci">int gzputs(gzFile file, char *str)</div><div class="ttdef"><b>Definition:</b> <a href="gzwrite_8c_source.html#l00293">gzwrite.c:293</a></div></div>
<div class="ttc" id="example_8c_html_a7587bb1e332fc8f57ef74071eeec8070"><div class="ttname"><a href="example_8c.html#a7587bb1e332fc8f57ef74071eeec8070">zfree</a></div><div class="ttdeci">static free_func zfree</div><div class="ttdef"><b>Definition:</b> <a href="example_8c_source.html#l00078">example.c:78</a></div></div>
<div class="ttc" id="inflate_8c_html_a70a95f343952a809bbb6bcf3b362e593"><div class="ttname"><a href="inflate_8c.html#a70a95f343952a809bbb6bcf3b362e593">inflateSetDictionary</a></div><div class="ttdeci">int inflateSetDictionary(z_streamp strm, Bytef *dictionary, uInt dictLength)</div><div class="ttdef"><b>Definition:</b> <a href="inflate_8c_source.html#l01291">inflate.c:1291</a></div></div>
<div class="ttc" id="zlib_8h_html_a39ffd574ef0c5160c8b9ad373b8dd27a"><div class="ttname"><a href="zlib_8h.html#a39ffd574ef0c5160c8b9ad373b8dd27a">z_stream::avail_out</a></div><div class="ttdeci">uInt avail_out</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00091">zlib.h:91</a></div></div>
<div class="ttc" id="zlib_8h_html_a51dc9dc65e483b3222c1f0f6a87eb76e"><div class="ttname"><a href="zlib_8h.html#a51dc9dc65e483b3222c1f0f6a87eb76e">ZLIB_VERSION</a></div><div class="ttdeci">#define ZLIB_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00040">zlib.h:40</a></div></div>
<div class="ttc" id="example_8c_html_afced8478b91af5c169926dfa4426333d"><div class="ttname"><a href="example_8c.html#afced8478b91af5c169926dfa4426333d">main</a></div><div class="ttdeci">int main(int argc, argv)</div><div class="ttdef"><b>Definition:</b> <a href="example_8c_source.html#l00545">example.c:545</a></div></div>
<div class="ttc" id="zlib_8h_html_ad5222ae19b77c6e83815d07ca5d03fd8"><div class="ttname"><a href="zlib_8h.html#ad5222ae19b77c6e83815d07ca5d03fd8">Z_BEST_SPEED</a></div><div class="ttdeci">#define Z_BEST_SPEED</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00187">zlib.h:187</a></div></div>
<div class="ttc" id="inflate_8c_html_a6311fc784f0bf21d96cb58962359ea61"><div class="ttname"><a href="inflate_8c.html#a6311fc784f0bf21d96cb58962359ea61">inflateSync</a></div><div class="ttdeci">int inflateSync(z_streamp strm)</div><div class="ttdef"><b>Definition:</b> <a href="inflate_8c_source.html#l01377">inflate.c:1377</a></div></div>
<div class="ttc" id="zutil_8c_html_aebd5c667302d7b972ed849f359982306"><div class="ttname"><a href="zutil_8c.html#aebd5c667302d7b972ed849f359982306">calloc</a></div><div class="ttdeci">voidp calloc()</div></div>
<div class="ttc" id="zlib_8h_html_a6413cdfb4cdc0b5a09cf9b5f3f8f48ef"><div class="ttname"><a href="zlib_8h.html#a6413cdfb4cdc0b5a09cf9b5f3f8f48ef">ZLIB_VERNUM</a></div><div class="ttdeci">#define ZLIB_VERNUM</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00041">zlib.h:41</a></div></div>
<div class="ttc" id="example_8c_html_a4610260d3c6ef866bf756145cd353e4a"><div class="ttname"><a href="example_8c.html#a4610260d3c6ef866bf756145cd353e4a">test_large_deflate</a></div><div class="ttdeci">void test_large_deflate(Byte *compr, uLong comprLen, Byte *uncompr, uLong uncomprLen)</div><div class="ttdef"><b>Definition:</b> <a href="example_8c_source.html#l00279">example.c:279</a></div></div>
<div class="ttc" id="zconf_8h_html_ac5613fe8160cbbf89d3e470574b755fb"><div class="ttname"><a href="zconf_8h.html#ac5613fe8160cbbf89d3e470574b755fb">Bytef</a></div><div class="ttdeci">Byte Bytef</div><div class="ttdef"><b>Definition:</b> <a href="zconf_8h_source.html#l00377">zconf.h:377</a></div></div>
<div class="ttc" id="zlib_8h_html_ae7440c1c5a8becba6dbf410275dc0a5c"><div class="ttname"><a href="zlib_8h.html#ae7440c1c5a8becba6dbf410275dc0a5c">deflateInit</a></div><div class="ttdeci">#define deflateInit(strm, level)</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l01647">zlib.h:1647</a></div></div>
<div class="ttc" id="zlib_8h_html_ad7c6797b618699f70f61323c5184f26e"><div class="ttname"><a href="zlib_8h.html#ad7c6797b618699f70f61323c5184f26e">inflateInit</a></div><div class="ttdeci">#define inflateInit(strm)</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l01649">zlib.h:1649</a></div></div>
<div class="ttc" id="zlib_8h_html_a496a4523776bcfa14568cd083b59f24c"><div class="ttname"><a href="zlib_8h.html#a496a4523776bcfa14568cd083b59f24c">Z_NO_COMPRESSION</a></div><div class="ttdeci">#define Z_NO_COMPRESSION</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00186">zlib.h:186</a></div></div>
<div class="ttc" id="deflate_8c_html_adb08871bcd410fb9d8d221a1ae378fa8"><div class="ttname"><a href="deflate_8c.html#adb08871bcd410fb9d8d221a1ae378fa8">deflateParams</a></div><div class="ttdeci">int deflateParams(z_streamp strm, int level, int strategy)</div><div class="ttdef"><b>Definition:</b> <a href="deflate_8c_source.html#l00490">deflate.c:490</a></div></div>
<div class="ttc" id="inflate_8c_html_abc6f3c66e6691b5007ecc9e1cb570fa2"><div class="ttname"><a href="inflate_8c.html#abc6f3c66e6691b5007ecc9e1cb570fa2">inflateEnd</a></div><div class="ttdeci">int inflateEnd(z_streamp strm)</div><div class="ttdef"><b>Definition:</b> <a href="inflate_8c_source.html#l01254">inflate.c:1254</a></div></div>
<div class="ttc" id="inflate_8c_html_a79b92a0a5ce8f5dcdfe65d301e6c12a4"><div class="ttname"><a href="inflate_8c.html#a79b92a0a5ce8f5dcdfe65d301e6c12a4">inflate</a></div><div class="ttdeci">int inflate(z_streamp strm, int flush)</div><div class="ttdef"><b>Definition:</b> <a href="inflate_8c_source.html#l00605">inflate.c:605</a></div></div>
<div class="ttc" id="zlib_8h_html_a5e34f774c4940b8aa5fe476390864192"><div class="ttname"><a href="zlib_8h.html#a5e34f774c4940b8aa5fe476390864192">z_stream::next_out</a></div><div class="ttdeci">Bytef * next_out</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00090">zlib.h:90</a></div></div>
<div class="ttc" id="example_8c_html_adb492214325c044e5ee956b124efe2d8"><div class="ttname"><a href="example_8c.html#adb492214325c044e5ee956b124efe2d8">test_gzio</a></div><div class="ttdeci">void test_gzio(char *fname, Byte *uncompr, uLong uncomprLen) const</div><div class="ttdef"><b>Definition:</b> <a href="example_8c_source.html#l00114">example.c:114</a></div></div>
<div class="ttc" id="zlib_8h_html_a3478dda91cd0a6d88a54af293c174f38"><div class="ttname"><a href="zlib_8h.html#a3478dda91cd0a6d88a54af293c174f38">z_stream::total_out</a></div><div class="ttdeci">uLong total_out</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00092">zlib.h:92</a></div></div>
<div class="ttc" id="zlib_8h_html_a580d7c2527e653ddd783109271750849"><div class="ttname"><a href="zlib_8h.html#a580d7c2527e653ddd783109271750849">Z_DEFAULT_STRATEGY</a></div><div class="ttdeci">#define Z_DEFAULT_STRATEGY</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00196">zlib.h:196</a></div></div>
<div class="ttc" id="zlib_8h_html_ad15afa2776b41b2f4d8582dd152bd736"><div class="ttname"><a href="zlib_8h.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a></div><div class="ttdeci">#define Z_NULL</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00208">zlib.h:208</a></div></div>
<div class="ttc" id="zlib_8h_html_aed4fbb038c3973aacf52fccffbc44b53"><div class="ttname"><a href="zlib_8h.html#aed4fbb038c3973aacf52fccffbc44b53">Z_FULL_FLUSH</a></div><div class="ttdeci">#define Z_FULL_FLUSH</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00167">zlib.h:167</a></div></div>
<div class="ttc" id="example_8c_html_a6a9558a2f570739d5bb2a1985d4f9a5d"><div class="ttname"><a href="example_8c.html#a6a9558a2f570739d5bb2a1985d4f9a5d">test_compress</a></div><div class="ttdeci">void test_compress(Byte *compr, uLong comprLen, Byte *uncompr, uLong uncomprLen)</div><div class="ttdef"><b>Definition:</b> <a href="example_8c_source.html#l00088">example.c:88</a></div></div>
<div class="ttc" id="zconf_8h_html_a2c212835823e3c54a8ab6d95c652660e"><div class="ttname"><a href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a></div><div class="ttdeci">#define const</div><div class="ttdef"><b>Definition:</b> <a href="zconf_8h_source.html#l00217">zconf.h:217</a></div></div>
<div class="ttc" id="zlib_8h_html_a687b6a0bbb7485527e4f9d1a443b144b"><div class="ttname"><a href="zlib_8h.html#a687b6a0bbb7485527e4f9d1a443b144b">z_stream::avail_in</a></div><div class="ttdeci">uInt avail_in</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00087">zlib.h:87</a></div></div>
<div class="ttc" id="gzlib_8c_html_ad5712d13d9cb4bedf6189327a8a38924"><div class="ttname"><a href="gzlib_8c.html#ad5712d13d9cb4bedf6189327a8a38924">gztell</a></div><div class="ttdeci">long gztell(gzFile file)</div><div class="ttdef"><b>Definition:</b> <a href="gzlib_8c_source.html#l00468">gzlib.c:468</a></div></div>
<div class="ttc" id="gzappend_8c_html_structfile"><div class="ttname"><a href="gzappend_8c.html#structfile">file</a></div><div class="ttdef"><b>Definition:</b> <a href="gzappend_8c_source.html#l00170">gzappend.c:170</a></div></div>
<div class="ttc" id="example_8c_html_a050a02a0902aa81571331f8b3b876deb"><div class="ttname"><a href="example_8c.html#a050a02a0902aa81571331f8b3b876deb">dictionary</a></div><div class="ttdeci">const char dictionary[]</div><div class="ttdef"><b>Definition:</b> <a href="example_8c_source.html#l00034">example.c:34</a></div></div>
<div class="ttc" id="gzlib_8c_html_ab14de224315c916f31b251fc50a7f76b"><div class="ttname"><a href="gzlib_8c.html#ab14de224315c916f31b251fc50a7f76b">gzerror</a></div><div class="ttdeci">char * gzerror(gzFile file, int *errnum)</div><div class="ttdef"><b>Definition:</b> <a href="gzlib_8c_source.html#l00528">gzlib.c:528</a></div></div>
<div class="ttc" id="deflate_8c_html_a020eb25653da3ef0f1f4f59a82c1e8ae"><div class="ttname"><a href="deflate_8c.html#a020eb25653da3ef0f1f4f59a82c1e8ae">deflate</a></div><div class="ttdeci">int deflate(z_streamp strm, int flush)</div><div class="ttdef"><b>Definition:</b> <a href="deflate_8c_source.html#l00665">deflate.c:665</a></div></div>
<div class="ttc" id="example_8c_html_af7ba7234d86c85a9efef84bd2ccab14a"><div class="ttname"><a href="example_8c.html#af7ba7234d86c85a9efef84bd2ccab14a">test_sync</a></div><div class="ttdeci">void test_sync(Byte *compr, uLong comprLen, Byte *uncompr, uLong uncomprLen)</div><div class="ttdef"><b>Definition:</b> <a href="example_8c_source.html#l00413">example.c:413</a></div></div>
<div class="ttc" id="zlib_8h_html_a3f5c24bc1470b5d545fad3d50c1c5b50"><div class="ttname"><a href="zlib_8h.html#a3f5c24bc1470b5d545fad3d50c1c5b50">free_func</a></div><div class="ttdeci">void(* free_func)()</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00081">zlib.h:81</a></div></div>
<div class="ttc" id="zlib_8h_html_af5387baee05124298e431ebe6fe96b17"><div class="ttname"><a href="zlib_8h.html#af5387baee05124298e431ebe6fe96b17">Z_DEFAULT_COMPRESSION</a></div><div class="ttdeci">#define Z_DEFAULT_COMPRESSION</div><div class="ttdef"><b>Definition:</b> <a href="zlib_8h_source.html#l00189">zlib.h:189</a></div></div>
<div class="ttc" id="zconf_8h_html_a87d141052bcd5ec8a80812a565c70369"><div class="ttname"><a href="zconf_8h.html#a87d141052bcd5ec8a80812a565c70369">uInt</a></div><div class="ttdeci">unsigned int uInt</div><div class="ttdef"><b>Definition:</b> <a href="zconf_8h_source.html#l00370">zconf.h:370</a></div></div>
<div class="ttc" id="example_8c_html_aea19040b80c5af57adfe2e60052fb323"><div class="ttname"><a href="example_8c.html#aea19040b80c5af57adfe2e60052fb323">test_deflate</a></div><div class="ttdeci">void test_deflate(Byte *compr, uLong comprLen)</div><div class="ttdef"><b>Definition:</b> <a href="example_8c_source.html#l00200">example.c:200</a></div></div>
<div class="ttc" id="example_8c_html_a2f82b9ba7bbe7732f3936b464d5104c5"><div class="ttname"><a href="example_8c.html#a2f82b9ba7bbe7732f3936b464d5104c5">dictId</a></div><div class="ttdeci">uLong dictId</div><div class="ttdef"><b>Definition:</b> <a href="example_8c_source.html#l00035">example.c:35</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_752bf115b6f73c9d98878bf7307d3054.html">bial</a></li><li class="navelem"><a class="el" href="dir_b763646acf7ffb3c4b830dc9d1188a44.html">zlib</a></li><li class="navelem"><a class="el" href="dir_3290f8305d5ec3b00a385d41405d3558.html">test</a></li><li class="navelem"><a class="el" href="example_8c.html">example.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
